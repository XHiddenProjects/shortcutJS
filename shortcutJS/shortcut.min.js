/*@Author XHiddenProjects 
@Version 1.1.0 
@Updated 02/22/24*/
const SHIFT=!0,CTRL=!0,ALT=!0,NO_SHIFT=!1,NO_CTRL=!1,NO_ALT=!1;var kL=[],IFs="",tar=0;class shortcutJS{constructor(){this.keyBind={},this.r=!0}createListener(obj=window){kL=Object.entries(this.keyBind);for(let i=0;i<kL.length;i++)obj.addEventListener("keydown",function(event,tar=i){let ifs="";if("string"==typeof kL[tar][0]&&(ifs+='event.key==="'+kL[tar][0]+'"'),"number"==typeof kL[tar][0]&&(ifs+="event.keyCode==="+kL[tar][0]),kL[tar][1].shift?ifs+="&&event.shiftKey":ifs+="&&!event.shiftKey",kL[tar][1].ctrl?ifs+="&&event.ctrlKey":ifs+="&&!event.ctrlKey",kL[tar][1].alt?ifs+="&&event.altKey":ifs+="&&!event.altKey",eval(ifs))return event.preventDefault(),kL[tar][1].func(),!1;ifs=""})}bind(e,t,r=NO_SHIFT||[NO_SHIFT],s=CTRL||[CTRL],n=ALT||[ALT]){if(!("function"==typeof t||Array.isArray(t)))return console.error(t+" must be a function|array"),!1;if("string"==typeof e)return e=e.substr(0,15),this.keyBind[e]={shift:r,ctrl:s,alt:n,func:t},!0;if(Array.isArray(e)){for(let i=0;i<e.length;i++){if(e[i]=e[i].substr(0,15),"function"!=typeof t[i])return console.error(t[i]+" must be a function"),!1;if("string"!=typeof e[i]&&"number"!=typeof e[i])return console.error(e[i]+" must be a function"),!1;this.keyBind[e[i]]={shift:r[i],ctrl:s[i],alt:n[i],func:t[i]}}return!0}console.error(e+" must be a string|array"),this.r=!1;this.keyBind={}}unbind(e){return this.keyBind[e]?delete this.keyBind[e]:(console.error(e+" doesn`t have a set value"),!1)}update(e,t){return this.keyBind[t]=this.keyBind[e],delete this.keyBind[e]}setDesc(e,t=""){if(!this.keyBind[e])return console.error(e+" doesn`t have a set value"),!1;this.keyBind[e].desc=t}remDesc(e){return this.keyBind[e].desc?delete this.keyBind[e].desc:(console.error(e+" doesn`t have a set description"),!1)}strip(e){let t="";for(let r=0;r<e.split("").length;r++)r<=15&&(t+=e.split("")[r]);return t}get(){return this.keyBind}showList(e,t=""){let r=document.querySelector(e);if((!r||"ol"!==r.tagName.toLowerCase())&&"ul"!==r.tagName.toLowerCase())return console.error(e+" does not exists or element is not OL/UL!"),!1;{r.classList.add("scList");let s=document.createElement("style");s.innerHTML=".scList .cmd{float:right;font-weight:bold;font-style:italic;color:#7a7878;}",document.head.appendChild(s);let n=Object.entries(this.keyBind);for(let i=0;i<n.length;i++){let a=document.createElement("li");Array.isArray(t)?a.classList.add(t[i]):""!==t?a.classList.add(t):a.className="",a.innerHTML+='<span class="desc">'+(n[i][1].desc?n[i][1].desc:"")+"</span> ",a.innerHTML+='<span class="cmd">'+(n[i][1].alt?"ALT+":"")+(n[i][1].ctrl?"CTRL+":"")+(n[i][1].shift?"Shift+":"")+n[i][0]+"</span>",r.appendChild(a)}}}}
